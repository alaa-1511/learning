<div class="p-8 bg-white border-0 ring-1 ring-gray-100 rounded-2xl shadow-xl">
    
    <!-- Header & Actions -->
    <div class="mb-8">
        <div class="flex flex-col md:flex-row items-center justify-between mb-6 gap-4">
             <div class="text-center md:text-start">
                <h1 class="text-3xl font-extrabold text-gray-900 tracking-tight mb-2">{{ 'MANAGE_QUESTIONS.TITLE' | translate }}</h1>
                <p class="text-base text-gray-500 font-medium">{{ 'MANAGE_QUESTIONS.SUBTITLE' | translate }}</p>
             </div>
             <button type="button" (click)="openExamSettings()" class="text-white bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-800 hover:to-gray-900 focus:ring-4 focus:ring-gray-300 font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-gray-500/30 transition-all duration-300 transform hover:-translate-y-0.5 flex items-center gap-2">
                <i class="pi pi-cog text-lg"></i> 
                <span>{{ 'Exam Configuration' }}</span>
            </button>
             <button type="button" (click)="openNew()" class="text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-300 font-semibold rounded-xl text-sm px-6 py-3 shadow-lg shadow-blue-500/30 transition-all duration-300 transform hover:-translate-y-0.5 flex items-center gap-2">
                <i class="pi pi-plus text-lg"></i> 
                <span>{{ 'MANAGE_QUESTIONS.ADD_NEW' | translate }}</span>
            </button>
        </div>

        <div class="flex flex-col lg:flex-row gap-4 items-center justify-between bg-gray-50/50 p-4 rounded-xl border border-dashed border-gray-200">
             <!-- Search -->
             <div class="relative w-full lg:w-96 group">
                <div class="absolute inset-y-0 start-0 flex items-center ps-4 pointer-events-none">
                    <svg class="w-4 h-4 text-gray-400 group-focus-within:text-blue-500 transition-colors" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                    </svg>
                </div>
                <input type="text" id="table-search" class="block w-full p-3 ps-11 text-sm text-gray-900 border-0 ring-1 ring-gray-200 rounded-full bg-white focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all shadow-sm" [placeholder]="'MANAGE_QUESTIONS.SEARCH_PLACEHOLDER' | translate" (input)="onSearch($event)">
            </div>

            <!-- Filters -->
              <div class="flex flex-col sm:flex-row gap-3 w-full lg:w-auto">
                <div class="relative min-w-[200px]">
                    <select class="bg-white border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-lg focus:ring-2 focus:ring-blue-500 block w-full p-2.5 shadow-sm cursor-pointer transition-shadow" (change)="onCourseFilter($event)">
                        <option [value]="'null'">All Courses</option>
                        <option *ngFor="let course of courses" [value]="course.id">{{course.title | translate}}</option>
                    </select>
                </div>
               
                <div class="relative min-w-[200px]">
                    <select class="bg-white border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-lg focus:ring-2 focus:ring-blue-500 block w-full p-2.5 shadow-sm cursor-pointer transition-shadow" (change)="onDifficultyFilter($event)">
                        <option [ngValue]="null">{{ 'MANAGE_QUESTIONS.ALL_DIFFICULTIES' | translate }}</option>
                        <option *ngFor="let diff of formDifficulties" [value]="diff.value">{{diff.label}}</option>
                    </select>
                </div>
             </div>
        </div>
    </div>

    <!-- Table -->
    <div class="relative overflow-hidden rounded-xl border border-gray-100 shadow-sm">
        <div class="overflow-x-auto">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500">
                <thead class="text-xs text-gray-500 uppercase bg-gray-50/80 tracking-wider">
                    <tr>
                        <th scope="col" class="px-6 py-4 font-semibold">{{ 'MANAGE_QUESTIONS.TABLE.QUESTION' | translate }}</th>
                        <th scope="col" class="px-6 py-4 font-semibold">Type</th>
                        <th scope="col" class="px-6 py-4 font-semibold">Target Page</th>
                        <!-- <th scope="col" class="px-6 py-4 font-semibold">{{ 'MANAGE_QUESTIONS.TABLE.CIA_PART' | translate }}</th> -->
                        <th scope="col" class="px-6 py-4 font-semibold">{{ 'MANAGE_QUESTIONS.TABLE.TOPIC' | translate }}</th>
                        <th scope="col" class="px-6 py-4 font-semibold">{{ 'MANAGE_QUESTIONS.TABLE.DIFFICULTY' | translate }}</th>
                        <th scope="col" class="px-6 py-4 font-semibold">{{ 'MANAGE_QUESTIONS.TABLE.STATUS' | translate }}</th>
                        <th scope="col" class="px-6 py-4 font-semibold">{{ 'MANAGE_QUESTIONS.TABLE.ACTION' | translate }}</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-100">
                    <tr *ngFor="let question of filteredQuestions | paginate: { itemsPerPage: 10, currentPage: p }" class="bg-white hover:bg-gray-50/80 transition-colors duration-150">
                        <th scope="row" class="px-6 py-4">
                            <div class="font-medium text-gray-900 max-w-xs truncate cursor-help" [innerHTML]="question.text" [title]="question.text"></div>
                        </th>
                         <td class="px-6 py-4">
                            <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800">
                                {{question.type === 'multiple-choice' ? 'MCQ' : (question.type === 'essay' ? 'Essay' : 'T/F')}}
                            </span>
                        </td>
                        <td class="px-6 py-4">
                            <span [ngClass]="question.targetPage === 'free-trial' ? 'bg-purple-100 text-purple-800' : 'bg-gray-100 text-gray-800'" class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium">
                                {{question.targetPage === 'free-trial' ? 'Free Trial' : 'Testbank'}}
                            </span>
                        </td>
                        <!-- <td class="px-6 py-4">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-md bg-gray-100 text-gray-700 text-xs font-medium ring-1 ring-inset ring-gray-500/10">
                                {{question.ciaPart}}
                            </span>
                        </td> -->
                        <td class="px-6 py-4">
                            <span class="text-gray-700 font-medium">{{question.topic}}</span>
                        </td>
                        <td class="px-6 py-4">
                            <span [ngClass]="{
                                'bg-emerald-50 text-emerald-700 ring-emerald-600/20': question.difficulty === 'Easy',
                                'bg-amber-50 text-amber-700 ring-amber-600/20': question.difficulty === 'Medium',
                                'bg-rose-50 text-rose-700 ring-rose-600/20': question.difficulty === 'Hard'
                            }" class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ring-1 ring-inset">
                                {{question.difficulty}}
                            </span>
                        </td>
                        <td class="px-6 py-4">
                             <div class="flex items-center gap-1.5">
                                 <span class="w-2 h-2 rounded-full" [ngClass]="question.status === 'Active' ? 'bg-blue-500' : 'bg-gray-400'"></span>
                                 <span class="text-gray-700 text-sm">{{question.status}}</span>
                             </div>
                        </td>
                        <td class="px-6 py-4">
                            <div class="flex items-center gap-3">
                                <button (click)="editQuestion(question)" class="p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors" [title]="'MANAGE_QUESTIONS.EDIT' | translate">
                                    <i class="pi pi-pencil"></i>
                                </button>
                                <button (click)="deleteQuestion(question)" class="p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors" [title]="'MANAGE_QUESTIONS.DELETE' | translate">
                                    <i class="pi pi-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Pagination -->
        <div class="p-4 border-t border-gray-100 bg-gray-50/30 flex justify-center">
             <pagination-controls (pageChange)="p = $event" class="custom-pagination"></pagination-controls>
        </div>
    </div>
</div>

<!-- Main Modal (Add/Edit) -->
<p-dialog [(visible)]="questionDialog" [modal]="true" [style]="{width: '70vw', maxWidth: '1000px'}" 
    [header]="isEditMode ? ('MANAGE_QUESTIONS.MODAL.EDIT_TITLE' | translate) : ('MANAGE_QUESTIONS.MODAL.ADD_TITLE' | translate)" 
    [maximizable]="true" [draggable]="false" [resizable]="false" class="p-0">
    <div class="p-1 space-y-6">
        <form [formGroup]="questionForm">
            <!-- Question Text -->
            <div class="mb-6">
                <label for="text" class="block mb-2 text-sm font-semibold text-gray-900">{{ 'MANAGE_QUESTIONS.MODAL.QUESTION_TEXT' | translate }}</label>
                <p-editor formControlName="text" [style]="{ height: '150px' }" placeholder="Enter your question here (supports rich text)...">
                     <ng-template pTemplate="header">
                        <span class="ql-formats">
                            <button class="ql-bold" aria-label="Bold"></button>
                            <button class="ql-italic" aria-label="Italic"></button>
                            <button class="ql-underline" aria-label="Underline"></button>
                        </span>
                         <span class="ql-formats">
                            <select class="ql-color"></select>
                            <select class="ql-background"></select>
                        </span>
                        <span class="ql-formats">
                            <button class="ql-list" value="ordered"></button>
                            <button class="ql-list" value="bullet"></button>
                        </span>
                    </ng-template>
                </p-editor>
                <p *ngIf="submitted && questionForm.get('text')?.invalid" class="mt-2 text-sm text-red-600 flex items-center gap-1">
                    <i class="pi pi-exclamation-circle"></i>
                    {{ 'MANAGE_QUESTIONS.MODAL.QUESTION_REQUIRED' | translate }}
                </p>
            </div>

             <!-- Grid for Meta Data -->
            <div class="grid gap-6 mb-6 md:grid-cols-2">
                <div>
                    <label class="block mb-2 text-sm font-semibold text-gray-900">Target Page</label>
                    <select formControlName="targetPage" class="bg-gray-50/50 border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-xl focus:ring-blue-500 block w-full p-3 transition-shadow">
                        <option *ngFor="let opt of pageOptions" [value]="opt.value">{{opt.label}}</option>
                    </select>
                </div>
                <div>
                    <label class="block mb-2 text-sm font-semibold text-gray-900">Question Type</label>
                    <select formControlName="type" class="bg-gray-50/50 border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-xl focus:ring-blue-500 block w-full p-3 transition-shadow">
                        <option value="multiple-choice">Multiple Choice</option>
                        <option value="essay">Essay</option>
                        <option value="true-false">True / False</option>
                    </select>
                </div>
                <div>
                     <label class="block mb-2 text-sm font-semibold text-gray-900">Course</label>
                     <div class="flex gap-2">
                        <select formControlName="courseId" (change)="onCourseChange($event)" class="bg-gray-50/50 border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-xl focus:ring-blue-500 block w-full p-3 transition-shadow">
                            <option [ngValue]="null">Select a specific course...</option>
                            <option value="new" class="font-bold text-blue-600">+ Add New Course</option>
                            <option *ngFor="let course of courses" [ngValue]="course.id">{{course.title | translate}}</option>
                        </select>
                     </div>
                     <small *ngIf="submitted && !questionForm.get('courseId')?.value" class="text-red-600 block mt-1">Course is required</small>
                </div>

                <ng-container *ngIf="isCreatingCourse">
                    <div class="col-span-2 p-4 bg-blue-50/50 rounded-xl border border-blue-100 animate-fade-in">
                        <h4 class="text-sm font-bold text-blue-800 mb-4 flex items-center gap-2">
                            <i class="pi pi-plus-circle"></i> Quick Create Course
                        </h4>
                        <div class="grid gap-4 md:grid-cols-2">
                            <div>
                                <label class="block mb-2 text-xs font-semibold text-gray-700">Course Title</label>
                                <input type="text" formControlName="newCourseTitle" class="bg-white border-0 ring-1 ring-gray-200 text-gray-700 text-xs rounded-lg focus:ring-blue-500 block w-full p-2.5" placeholder="Enter course name">
                                <small *ngIf="submitted && questionForm.get('courseId')?.value === 'new' && !questionForm.get('newCourseTitle')?.value" class="text-red-600 block mt-1">Course Title is required</small>
                            </div>
                            <div>
                                <label class="block mb-2 text-xs font-semibold text-gray-700">Course Image</label>
                                <div class="flex items-center gap-3">
                                    <label class="cursor-pointer bg-white px-3 py-2 border border-gray-200 rounded-lg text-xs font-medium text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors flex items-center gap-2">
                                        <i class="pi pi-upload"></i> Upload
                                        <input type="file" (change)="onFileSelected($event)" accept="image/*" class="hidden">
                                    </label>
                                    <div *ngIf="imagePreview" class="w-10 h-10 rounded-lg overflow-hidden border border-gray-200">
                                        <img [src]="imagePreview" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <small *ngIf="submitted && questionForm.get('courseId')?.value === 'new' && !questionForm.get('newCourseImage')?.value" class="text-red-600 block mt-1">Course Image is required</small>
                            </div>
                            <div class="col-span-2 text-xs text-blue-600 mt-1">
                                <i class="pi pi-info-circle mr-1"></i>
                                This course will be automatically set as <strong>{{questionForm.get('targetPage')?.value === 'free-trial' ? 'Free Trial' : 'Standard (Testbank)'}}</strong> based on your Page selection.
                            </div>
                        </div>
                    </div>
                </ng-container>
                <div>
                    <label class="block mb-2 text-sm font-semibold text-gray-900">{{ 'MANAGE_QUESTIONS.MODAL.TOPIC' | translate }}</label>
                    <input type="text" formControlName="topic" class="bg-gray-50/50 border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-xl focus:ring-blue-500 block w-full p-3 transition-shadow" [placeholder]="'MANAGE_QUESTIONS.MODAL.TOPIC_PLACEHOLDER' | translate" required />
                    <small *ngIf="submitted && questionForm.get('topic')?.invalid" class="text-red-600 block mt-1">{{ 'Topic is required' }}</small>
                </div>
                <div>
                    <label class="block mb-2 text-sm font-semibold text-gray-900">{{ 'MANAGE_QUESTIONS.MODAL.DIFFICULTY' | translate }}</label>
                        <select formControlName="difficulty" class="bg-gray-50/50 border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-xl focus:ring-blue-500 block w-full p-3 transition-shadow">
                        <option *ngFor="let diff of formDifficulties" [value]="diff.value">{{diff.label}}</option>
                    </select>
                </div>
                <div>
                    <label class="block mb-2 text-sm font-semibold text-gray-900">{{ 'MANAGE_QUESTIONS.MODAL.STATUS' | translate }}</label>
                        <select formControlName="status" class="bg-gray-50/50 border-0 ring-1 ring-gray-200 text-gray-700 text-sm rounded-xl focus:ring-blue-500 block w-full p-3 transition-shadow">
                        <option *ngFor="let status of formStatuses" [value]="status.value">{{status.label}}</option>
                    </select>
                </div>
            </div>

            <!-- Answers (MCQ Only) -->
            <div class="mb-4" *ngIf="questionForm.get('type')?.value === 'multiple-choice'">
                    <div class="flex items-center justify-between mb-3">
                        <label class="text-sm font-semibold text-gray-900">{{ 'MANAGE_QUESTIONS.MODAL.ANSWER_OPTIONS' | translate }}</label>
                        <span class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded">Select the correct answer</span>
                    </div>
                    
                    <div formArrayName="options" class="space-y-3">
                    <div *ngFor="let opt of optionsControls.controls; let i=index">
                        <div class="group flex items-center ps-4 border border-gray-200 rounded-xl bg-gray-50/30 hover:bg-gray-50 transition-colors focus-within:ring-2 focus-within:ring-blue-500/50 focus-within:border-blue-500">
                            <div class="relative flex items-center">
                                <input [id]="'radio-'+i" type="radio" [value]="i" [formControl]="$any(questionForm.get('correctAnswer'))" name="correctAnswer" class="w-5 h-5 text-blue-600 bg-white border-gray-300 focus:ring-blue-500 focus:ring-2 cursor-pointer">
                            </div>
                            <input [formControlName]="i" type="text" class="w-full border-none bg-transparent focus:ring-0 text-sm p-4 text-gray-700 placeholder-gray-400" [placeholder]="'MANAGE_QUESTIONS.MODAL.OPTION_PLACEHOLDER' | translate:{index: i+1}">
                            <button *ngIf="optionsControls.length > 2" (click)="removeOption(i)" type="button" class="text-gray-400 hover:text-red-500 p-3 me-1 opacity-0 group-hover:opacity-100 transition-opacity" title="Remove option">
                                <i class="pi pi-trash"></i>
                            </button>
                        </div>
                        <small *ngIf="submitted && optionsControls.at(i).invalid" class="text-red-600 block mt-1 ml-2">Option content is required</small>
                    </div>
                    </div>
                    <button type="button" (click)="addOption()" class="mt-4 w-full py-2.5 border-2 border-dashed border-gray-300 rounded-xl text-sm font-medium text-gray-500 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50/50 transition-all flex items-center justify-center gap-2">
                        <i class="pi pi-plus"></i>
                        {{ 'MANAGE_QUESTIONS.MODAL.ADD_OPTION' | translate }}
                    </button>
            </div>

            <!-- Answer Explanation / Model Answer (Visible for all) -->
            <div class="mb-2">
                 <label class="block mb-2 text-sm font-semibold text-gray-900">Answer Explanation / Model Answer</label>
                 <textarea formControlName="answerExplanation" rows="3" class="block p-3 w-full text-gray-700 bg-gray-50/50 rounded-xl border-0 ring-1 ring-gray-200 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all resize-y" placeholder="Explain the correct answer..."></textarea>
            </div>

        </form>
    </div>
    <ng-template pTemplate="footer">
        <button (click)="hideDialog()" type="button" class="px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:text-gray-900 focus:z-10 focus:ring-4 focus:ring-gray-100 transition-colors">
            {{ 'MANAGE_QUESTIONS.MODAL.CANCEL' | translate }}
        </button>
        <button *ngIf="!isEditMode" (click)="saveQuestion(true)" type="button" class="px-5 py-2.5 text-sm font-semibold text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 hover:text-blue-800 transition-colors">
            Save & Add Next
        </button>
        <button (click)="saveQuestion()" type="button" class="px-5 py-2.5 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg shadow-lg shadow-blue-500/30 transition-all">
            {{ 'MANAGE_QUESTIONS.MODAL.SAVE' | translate }}
        </button>
    </ng-template>
</p-dialog>


<!-- Exam Settings Modal -->
<p-dialog [(visible)]="examSettingsDialog" [modal]="true" [style]="{width: '500px'}" header="Exam Configuration" [draggable]="false" [resizable]="false">
    <form [formGroup]="examSettingsForm" class="space-y-4">
        <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Course</label>
             <select formControlName="courseId" (change)="onSettingsCourseChange($event)" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                <option *ngFor="let course of courses" [value]="course.id">{{course.title | translate}}</option>
            </select>
            <button type="button" 
                    (click)="deleteExamCourseConfirmation()"
                    [disabled]="!examSettingsForm.get('courseId')?.value"
                    class="mt-2 text-red-600 hover:text-red-800 text-xs font-semibold hover:underline flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed">
                <i class="pi pi-trash"></i> Delete this Course
            </button>
        </div>
        
        <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Exam Duration (Minutes)</label>
            <input type="number" formControlName="durationMinutes" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" />
        </div>

        <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Questions Count</label>
             <input type="number" formControlName="questionCount" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" />
             <p class="text-xs text-gray-500 mt-1">Number of questions to include in the exam.</p>
        </div>

        <div>
            <label class="block mb-1 text-sm font-medium text-gray-700">Passing Score (%)</label>
             <input type="number" formControlName="passingScore" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" />
        </div>

        <div class="flex items-center">
             <input id="randomize" type="checkbox" formControlName="randomize" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
            <label for="randomize" class="ms-2 text-sm font-medium text-gray-900">Randomize Questions</label>
        </div>
    </form>
    <ng-template pTemplate="footer">
        <button (click)="examSettingsDialog=false" type="button" class="px-5 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">Cancel</button>
        <button (click)="saveExamSettings()" type="button" class="px-5 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700">Save Configuration</button>
    </ng-template>
</p-dialog>

<!-- Delete Confirmation Modal (Premium) -->
<div *ngIf="deleteDialog" tabindex="-1" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm transition-opacity">
    <div class="relative w-full max-w-sm bg-white rounded-2xl shadow-2xl transform transition-all">
        <div class="p-6 text-center">
            <div class="w-16 h-16 mx-auto mb-4 bg-red-50 rounded-full flex items-center justify-center text-red-500">
                <i class="pi pi-exclamation-triangle text-2xl"></i>
            </div>
            <h3 class="mb-2 text-xl font-bold text-gray-900">{{ 'MANAGE_QUESTIONS.MODAL.DELETE_TITLE' | translate }}</h3>
            <p class="text-gray-500 mb-8 font-medium">Are you sure you want to delete this question? This action cannot be undone.</p>
            
            <div class="flex items-center justify-center gap-3">
                <button (click)="deleteDialog = false" type="button" class="px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 focus:ring-4 focus:ring-gray-100 transition-colors">
                    {{ 'MANAGE_QUESTIONS.MODAL.CANCEL_DELETE' | translate }}
                </button>
                <button (click)="confirmDelete()" type="button" class="px-5 py-2.5 text-sm font-semibold text-white bg-red-600 hover:bg-red-700 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg shadow-lg shadow-red-500/30 transition-all">
                    {{ 'MANAGE_QUESTIONS.MODAL.CONFIRM_DELETE' | translate }}
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Course Dialog -->
<p-dialog [(visible)]="deleteCourseDialog" [modal]="true" [style]="{width: '400px'}" header="Confirm Deletion" [draggable]="false" [resizable]="false">
    <div class="flex items-center gap-4 mb-4">
        <i class="pi pi-exclamation-triangle text-red-500 text-4xl"></i>
        <p class="text-gray-700">Are you sure you want to delete this course? All associated questions might become orphaned.</p>
    </div>
    <ng-template pTemplate="footer">
        <button (click)="deleteCourseDialog=false" type="button" class="px-5 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">Cancel</button>
        <button (click)="deleteExamCourse()" type="button" class="px-5 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700">Delete</button>
    </ng-template>
</p-dialog>
